language: java
sudo: false
install: true

dist: trusty

deploy:
  provider: heroku
  app: mylabboy
  on:
      branch:
      - master
  api_key:
      secure: d/jisKg+oNrM6K+HO1gwtw7y82aY8/IVwn7zMFvPhDmLoJSOjxJXqOx2cMRpg08rV+l/rp0pTiNk9mcnFiRx3qSSzEPeRTtrKDnxTz1WCufJtsEG8h1G5nwWgfT2FbpuOWho2q5c2cf4hcEBUhIhvHPz3vylZnlVj/D1RZ04vLvA7al/w+joaiBHfGf51d72PUXwhQ8LZ5Hf+/jqttH9A1c+1nutGD28cC8hC3ZFBcXJ32Xr6dOZ6iDtjOwyvnhp8MOlKjUwwKlb7jj17FCQR3JCYwOPBj4Kwbu9igH2mbhTwRpBV1ZZsTOgLXBJd78R49SnAJ4F9atN3TVYpUE9jArbCklne6QyiCPShyHlCt5zt7K2mPpOQMLu1+AqxlJhjkvAhw55b989weH7KeJqhztx5/FzS6d9FUmgEFm48//8F3vmy/zUmUzIyxVa4Lu3HyenRUNq5wULk+0HwXrXVJa8fDQFvyhQn8ZWEp0HM779NJfqESniAetCMIx8QwaafIpA27BE34A8za3lsp7KsFQHlur1qtFCb/sztmbLnVKAe6xtVt4R6HOXqBcm03BwfSzYlUCdj4ch/EWmq5D9pPI164RwZMeIRNqTpWlqU8JEJzazmibK3zJ9cOA12BiKoFyJQzqj4Cr3zrO6r3Iv6Xh+i7arxD5WdJNipep6WzQ=

jdk:
- oraclejdk8

os:
- linux

branches:
  only:
  - master


before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/

script:
- ./gradlew clean build


notifications:
  email:
    recipients:
    - bass-2000@yandex.ru
    on_success: always # default: change